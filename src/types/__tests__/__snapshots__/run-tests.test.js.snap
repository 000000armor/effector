// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Flow: json messages 1`] = `
Array [
  Array [
    "Cannot assign \`c\` to \`check2\` because number [1] is incompatible with string [2] in type argument \`Payload\` [3].",
  ],
  Array [
    "Cannot assign \`e\` to \`check4\` because number [1] is incompatible with string [2] in type argument \`State\` [3].",
  ],
  Array [
    "Cannot assign \`g\` to \`check6\` because string [1] is incompatible with number [2] in type argument \`Payload\` [3].",
  ],
  Array [
    "Cannot assign \`computed\` to \`check2\` because string [1] is incompatible with number [2] in type argument \`Payload\` [3].",
  ],
  Array [
    "Cannot assign \`createStore(...)\` to \`store2\` because number [1] is incompatible with string [2] in type argument \`State\` [3].",
  ],
  Array [
    "Cannot assign \`computed\` to \`check2\` because string [1] is incompatible with number [2] in type argument \`State\` [3].",
  ],
  Array [
    "Cannot call \`createDomain\` with \`234\` bound to \`domainName\` because number [1] is incompatible with string [2].",
  ],
  Array [
    "Cannot call \`createDomain\` with object literal bound to \`domainName\` because object literal [1] is incompatible with string [2].",
  ],
]
`;

exports[`Flow: json rejected 1`] = `
Object {
  "errors": Array [
    Object {
      "extra": Array [
        Object {
          "message": Array [
            Object {
              "context": null,
              "descr": "References:",
              "end": 0,
              "endline": 0,
              "line": 0,
              "path": "",
              "start": 1,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const a = createEvent<number>()",
              "descr": "[1]",
              "end": 32,
              "endline": 25,
              "line": 25,
              "loc": Object {
                "end": Object {
                  "column": 32,
                  "line": 25,
                  "offset": 389,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 27,
                  "line": 25,
                  "offset": 383,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 27,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const check2: Event<string> = c",
              "descr": "[2]",
              "end": 30,
              "endline": 30,
              "line": 30,
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 30,
                  "offset": 524,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 25,
                  "line": 30,
                  "offset": 518,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 25,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "declare export class Event<Payload> implements Unit<Payload> {",
              "descr": "[3]",
              "end": 34,
              "endline": 29,
              "line": 29,
              "loc": Object {
                "end": Object {
                  "column": 34,
                  "line": 29,
                  "offset": 480,
                },
                "source": "../../packages/effector/index.js.flow",
                "start": Object {
                  "column": 28,
                  "line": 29,
                  "offset": 473,
                },
                "type": "SourceFile",
              },
              "path": "../../packages/effector/index.js.flow",
              "start": 28,
              "type": "Blame",
            },
          ],
        },
      ],
      "kind": "infer",
      "level": "error",
      "message": Array [
        Object {
          "context": "    const check2: Event<string> = c",
          "descr": "Cannot assign \`c\` to \`check2\` because number [1] is incompatible with string [2] in type argument \`Payload\` [3].",
          "end": 35,
          "endline": 30,
          "line": 30,
          "loc": Object {
            "end": Object {
              "column": 35,
              "line": 30,
              "offset": 529,
            },
            "source": "types.test.js",
            "start": Object {
              "column": 35,
              "line": 30,
              "offset": 528,
            },
            "type": "SourceFile",
          },
          "path": "types.test.js",
          "start": 35,
          "type": "Blame",
        },
      ],
      "suppressions": Array [],
    },
    Object {
      "extra": Array [
        Object {
          "message": Array [
            Object {
              "context": null,
              "descr": "References:",
              "end": 0,
              "endline": 0,
              "line": 0,
              "path": "",
              "start": 1,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const check3: Store<number> = e",
              "descr": "[1]",
              "end": 30,
              "endline": 35,
              "line": 35,
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 35,
                  "offset": 618,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 25,
                  "line": 35,
                  "offset": 612,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 25,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const check4: Store<string> = e",
              "descr": "[2]",
              "end": 30,
              "endline": 36,
              "line": 36,
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 36,
                  "offset": 654,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 25,
                  "line": 36,
                  "offset": 648,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 25,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "declare export class Store<State> implements Unit<State> {",
              "descr": "[3]",
              "end": 32,
              "endline": 69,
              "line": 69,
              "loc": Object {
                "end": Object {
                  "column": 32,
                  "line": 69,
                  "offset": 1726,
                },
                "source": "../../packages/effector/index.js.flow",
                "start": Object {
                  "column": 28,
                  "line": 69,
                  "offset": 1721,
                },
                "type": "SourceFile",
              },
              "path": "../../packages/effector/index.js.flow",
              "start": 28,
              "type": "Blame",
            },
          ],
        },
      ],
      "kind": "infer",
      "level": "error",
      "message": Array [
        Object {
          "context": "    const check4: Store<string> = e",
          "descr": "Cannot assign \`e\` to \`check4\` because number [1] is incompatible with string [2] in type argument \`State\` [3].",
          "end": 35,
          "endline": 36,
          "line": 36,
          "loc": Object {
            "end": Object {
              "column": 35,
              "line": 36,
              "offset": 659,
            },
            "source": "types.test.js",
            "start": Object {
              "column": 35,
              "line": 36,
              "offset": 658,
            },
            "type": "SourceFile",
          },
          "path": "types.test.js",
          "start": 35,
          "type": "Blame",
        },
      ],
      "suppressions": Array [],
    },
    Object {
      "extra": Array [
        Object {
          "message": Array [
            Object {
              "context": null,
              "descr": "References:",
              "end": 0,
              "endline": 0,
              "line": 0,
              "path": "",
              "start": 1,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const f = createEffect<string, any, any>()",
              "descr": "[1]",
              "end": 33,
              "endline": 38,
              "line": 38,
              "loc": Object {
                "end": Object {
                  "column": 33,
                  "line": 38,
                  "offset": 694,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 28,
                  "line": 38,
                  "offset": 688,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 28,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const check6: Event<number> = g",
              "descr": "[2]",
              "end": 30,
              "endline": 42,
              "line": 42,
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 42,
                  "offset": 802,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 25,
                  "line": 42,
                  "offset": 796,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 25,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "declare export class Event<Payload> implements Unit<Payload> {",
              "descr": "[3]",
              "end": 34,
              "endline": 29,
              "line": 29,
              "loc": Object {
                "end": Object {
                  "column": 34,
                  "line": 29,
                  "offset": 480,
                },
                "source": "../../packages/effector/index.js.flow",
                "start": Object {
                  "column": 28,
                  "line": 29,
                  "offset": 473,
                },
                "type": "SourceFile",
              },
              "path": "../../packages/effector/index.js.flow",
              "start": 28,
              "type": "Blame",
            },
          ],
        },
      ],
      "kind": "infer",
      "level": "error",
      "message": Array [
        Object {
          "context": "    const check6: Event<number> = g",
          "descr": "Cannot assign \`g\` to \`check6\` because string [1] is incompatible with number [2] in type argument \`Payload\` [3].",
          "end": 35,
          "endline": 42,
          "line": 42,
          "loc": Object {
            "end": Object {
              "column": 35,
              "line": 42,
              "offset": 807,
            },
            "source": "types.test.js",
            "start": Object {
              "column": 35,
              "line": 42,
              "offset": 806,
            },
            "type": "SourceFile",
          },
          "path": "types.test.js",
          "start": 35,
          "type": "Blame",
        },
      ],
      "suppressions": Array [],
    },
    Object {
      "extra": Array [
        Object {
          "message": Array [
            Object {
              "context": null,
              "descr": "References:",
              "end": 0,
              "endline": 0,
              "line": 0,
              "path": "",
              "start": 1,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const check1: Event<string> = computed",
              "descr": "[1]",
              "end": 30,
              "endline": 54,
              "line": 54,
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 54,
                  "offset": 1071,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 25,
                  "line": 54,
                  "offset": 1065,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 25,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const check2: Event<number> = computed",
              "descr": "[2]",
              "end": 30,
              "endline": 55,
              "line": 55,
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 55,
                  "offset": 1114,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 25,
                  "line": 55,
                  "offset": 1108,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 25,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "declare export class Event<Payload> implements Unit<Payload> {",
              "descr": "[3]",
              "end": 34,
              "endline": 29,
              "line": 29,
              "loc": Object {
                "end": Object {
                  "column": 34,
                  "line": 29,
                  "offset": 480,
                },
                "source": "../../packages/effector/index.js.flow",
                "start": Object {
                  "column": 28,
                  "line": 29,
                  "offset": 473,
                },
                "type": "SourceFile",
              },
              "path": "../../packages/effector/index.js.flow",
              "start": 28,
              "type": "Blame",
            },
          ],
        },
      ],
      "kind": "infer",
      "level": "error",
      "message": Array [
        Object {
          "context": "    const check2: Event<number> = computed",
          "descr": "Cannot assign \`computed\` to \`check2\` because string [1] is incompatible with number [2] in type argument \`Payload\` [3].",
          "end": 42,
          "endline": 55,
          "line": 55,
          "loc": Object {
            "end": Object {
              "column": 42,
              "line": 55,
              "offset": 1126,
            },
            "source": "types.test.js",
            "start": Object {
              "column": 35,
              "line": 55,
              "offset": 1118,
            },
            "type": "SourceFile",
          },
          "path": "types.test.js",
          "start": 35,
          "type": "Blame",
        },
      ],
      "suppressions": Array [],
    },
    Object {
      "extra": Array [
        Object {
          "message": Array [
            Object {
              "context": null,
              "descr": "References:",
              "end": 0,
              "endline": 0,
              "line": 0,
              "path": "",
              "start": 1,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const store2: Store<string> = createStore(0)",
              "descr": "[1]",
              "end": 47,
              "endline": 70,
              "line": 70,
              "loc": Object {
                "end": Object {
                  "column": 47,
                  "line": 70,
                  "offset": 1444,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 47,
                  "line": 70,
                  "offset": 1443,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 47,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const store2: Store<string> = createStore(0)",
              "descr": "[2]",
              "end": 30,
              "endline": 70,
              "line": 70,
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 70,
                  "offset": 1427,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 25,
                  "line": 70,
                  "offset": 1421,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 25,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "declare export class Store<State> implements Unit<State> {",
              "descr": "[3]",
              "end": 32,
              "endline": 69,
              "line": 69,
              "loc": Object {
                "end": Object {
                  "column": 32,
                  "line": 69,
                  "offset": 1726,
                },
                "source": "../../packages/effector/index.js.flow",
                "start": Object {
                  "column": 28,
                  "line": 69,
                  "offset": 1721,
                },
                "type": "SourceFile",
              },
              "path": "../../packages/effector/index.js.flow",
              "start": 28,
              "type": "Blame",
            },
          ],
        },
      ],
      "kind": "infer",
      "level": "error",
      "message": Array [
        Object {
          "context": "    const store2: Store<string> = createStore(0)",
          "descr": "Cannot assign \`createStore(...)\` to \`store2\` because number [1] is incompatible with string [2] in type argument \`State\` [3].",
          "end": 47,
          "endline": 70,
          "line": 70,
          "loc": Object {
            "end": Object {
              "column": 47,
              "line": 70,
              "offset": 1444,
            },
            "source": "types.test.js",
            "start": Object {
              "column": 47,
              "line": 70,
              "offset": 1443,
            },
            "type": "SourceFile",
          },
          "path": "types.test.js",
          "start": 47,
          "type": "Blame",
        },
      ],
      "suppressions": Array [],
    },
    Object {
      "extra": Array [
        Object {
          "message": Array [
            Object {
              "context": null,
              "descr": "References:",
              "end": 0,
              "endline": 0,
              "line": 0,
              "path": "",
              "start": 1,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const check1: Store<string> = computed",
              "descr": "[1]",
              "end": 30,
              "endline": 119,
              "line": 119,
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 119,
                  "offset": 2775,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 25,
                  "line": 119,
                  "offset": 2769,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 25,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const check2: Store<number> = computed",
              "descr": "[2]",
              "end": 30,
              "endline": 121,
              "line": 121,
              "loc": Object {
                "end": Object {
                  "column": 30,
                  "line": 121,
                  "offset": 2819,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 25,
                  "line": 121,
                  "offset": 2813,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 25,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "declare export class Store<State> implements Unit<State> {",
              "descr": "[3]",
              "end": 32,
              "endline": 69,
              "line": 69,
              "loc": Object {
                "end": Object {
                  "column": 32,
                  "line": 69,
                  "offset": 1726,
                },
                "source": "../../packages/effector/index.js.flow",
                "start": Object {
                  "column": 28,
                  "line": 69,
                  "offset": 1721,
                },
                "type": "SourceFile",
              },
              "path": "../../packages/effector/index.js.flow",
              "start": 28,
              "type": "Blame",
            },
          ],
        },
      ],
      "kind": "infer",
      "level": "error",
      "message": Array [
        Object {
          "context": "    const check2: Store<number> = computed",
          "descr": "Cannot assign \`computed\` to \`check2\` because string [1] is incompatible with number [2] in type argument \`State\` [3].",
          "end": 42,
          "endline": 121,
          "line": 121,
          "loc": Object {
            "end": Object {
              "column": 42,
              "line": 121,
              "offset": 2831,
            },
            "source": "types.test.js",
            "start": Object {
              "column": 35,
              "line": 121,
              "offset": 2823,
            },
            "type": "SourceFile",
          },
          "path": "types.test.js",
          "start": 35,
          "type": "Blame",
        },
      ],
      "suppressions": Array [],
    },
    Object {
      "extra": Array [
        Object {
          "message": Array [
            Object {
              "context": null,
              "descr": "References:",
              "end": 0,
              "endline": 0,
              "line": 0,
              "path": "",
              "start": 1,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const domain3 = createDomain(234)",
              "descr": "[1]",
              "end": 36,
              "endline": 203,
              "line": 203,
              "loc": Object {
                "end": Object {
                  "column": 36,
                  "line": 203,
                  "offset": 4958,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 34,
                  "line": 203,
                  "offset": 4955,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 34,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "declare export function createDomain(domainName?: string): Domain",
              "descr": "[2]",
              "end": 56,
              "endline": 243,
              "line": 243,
              "loc": Object {
                "end": Object {
                  "column": 56,
                  "line": 243,
                  "offset": 6538,
                },
                "source": "../../packages/effector/index.js.flow",
                "start": Object {
                  "column": 51,
                  "line": 243,
                  "offset": 6532,
                },
                "type": "SourceFile",
              },
              "path": "../../packages/effector/index.js.flow",
              "start": 51,
              "type": "Blame",
            },
          ],
        },
      ],
      "kind": "infer",
      "level": "error",
      "message": Array [
        Object {
          "context": "    const domain3 = createDomain(234)",
          "descr": "Cannot call \`createDomain\` with \`234\` bound to \`domainName\` because number [1] is incompatible with string [2].",
          "end": 36,
          "endline": 203,
          "line": 203,
          "loc": Object {
            "end": Object {
              "column": 36,
              "line": 203,
              "offset": 4958,
            },
            "source": "types.test.js",
            "start": Object {
              "column": 34,
              "line": 203,
              "offset": 4955,
            },
            "type": "SourceFile",
          },
          "path": "types.test.js",
          "start": 34,
          "type": "Blame",
        },
      ],
      "suppressions": Array [],
    },
    Object {
      "extra": Array [
        Object {
          "message": Array [
            Object {
              "context": null,
              "descr": "References:",
              "end": 0,
              "endline": 0,
              "line": 0,
              "path": "",
              "start": 1,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "    const domain4 = createDomain({foo: true})",
              "descr": "[1]",
              "end": 44,
              "endline": 204,
              "line": 204,
              "loc": Object {
                "end": Object {
                  "column": 44,
                  "line": 204,
                  "offset": 5004,
                },
                "source": "types.test.js",
                "start": Object {
                  "column": 34,
                  "line": 204,
                  "offset": 4993,
                },
                "type": "SourceFile",
              },
              "path": "types.test.js",
              "start": 34,
              "type": "Blame",
            },
          ],
        },
        Object {
          "message": Array [
            Object {
              "context": "declare export function createDomain(domainName?: string): Domain",
              "descr": "[2]",
              "end": 56,
              "endline": 243,
              "line": 243,
              "loc": Object {
                "end": Object {
                  "column": 56,
                  "line": 243,
                  "offset": 6538,
                },
                "source": "../../packages/effector/index.js.flow",
                "start": Object {
                  "column": 51,
                  "line": 243,
                  "offset": 6532,
                },
                "type": "SourceFile",
              },
              "path": "../../packages/effector/index.js.flow",
              "start": 51,
              "type": "Blame",
            },
          ],
        },
      ],
      "kind": "infer",
      "level": "error",
      "message": Array [
        Object {
          "context": "    const domain4 = createDomain({foo: true})",
          "descr": "Cannot call \`createDomain\` with object literal bound to \`domainName\` because object literal [1] is incompatible with string [2].",
          "end": 44,
          "endline": 204,
          "line": 204,
          "loc": Object {
            "end": Object {
              "column": 44,
              "line": 204,
              "offset": 5004,
            },
            "source": "types.test.js",
            "start": Object {
              "column": 34,
              "line": 204,
              "offset": 4993,
            },
            "type": "SourceFile",
          },
          "path": "types.test.js",
          "start": 34,
          "type": "Blame",
        },
      ],
      "suppressions": Array [],
    },
  ],
  "flowVersion": "0.95.1",
  "jsonVersion": "1",
  "passed": false,
}
`;

exports[`TypeScript: rejected 1`] = `
"Command failed: npx tsc -p src/types

src/types/types.test.ts(30,11): error TS2322: Type 'Event<number>' is not assignable to type 'Event<string>'.
  Types of property 'watch' are incompatible.
    Type '(watcher: (payload: number) => any) => Subscription' is not assignable to type '(watcher: (payload: string) => any) => Subscription'.
      Types of parameters 'watcher' and 'watcher' are incompatible.
        Types of parameters 'payload' and 'payload' are incompatible.
          Type 'number' is not assignable to type 'string'.
src/types/types.test.ts(36,11): error TS2322: Type 'Store<number>' is not assignable to type 'Store<string>'.
  Type 'number' is not assignable to type 'string'.
src/types/types.test.ts(42,11): error TS2322: Type 'Event<string>' is not assignable to type 'Event<number>'.
  Types of property 'watch' are incompatible.
    Type '(watcher: (payload: string) => any) => Subscription' is not assignable to type '(watcher: (payload: number) => any) => Subscription'.
      Types of parameters 'watcher' and 'watcher' are incompatible.
        Types of parameters 'payload' and 'payload' are incompatible.
          Type 'string' is not assignable to type 'number'.
src/types/types.test.ts(55,11): error TS2322: Type 'Event<string>' is not assignable to type 'Event<number>'.
src/types/types.test.ts(70,11): error TS2322: Type 'Store<number>' is not assignable to type 'Store<string>'.
src/types/types.test.ts(121,11): error TS2322: Type 'Store<string>' is not assignable to type 'Store<number>'.
  Type 'string' is not assignable to type 'number'.
src/types/types.test.ts(203,34): error TS2345: Argument of type '234' is not assignable to parameter of type 'string | undefined'.
src/types/types.test.ts(204,34): error TS2345: Argument of type '{ foo: boolean; }' is not assignable to parameter of type 'string'.
"
`;
